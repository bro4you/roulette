<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>–†—É–ª–µ—Ç–∫–∞ —Ä–æ–∑—ã–≥—Ä—ã—à–∞</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Unbounded:wght@400;700;900&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --gold: #FFD700;
  --gold2: #FFA500;
  --dark: #08080f;
  --card: #111118;
  --border: #222230;
  --text: #e0e0f0;
  --muted: #555566;
}

body {
  background: var(--dark);
  color: var(--text);
  font-family: 'Inter', sans-serif;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  overflow-x: hidden;
}

body::before {
  content: '';
  position: fixed;
  inset: 0;
  background: radial-gradient(ellipse at 70% 10%, rgba(255,215,0,0.05) 0%, transparent 55%),
              radial-gradient(ellipse at 10% 90%, rgba(120,60,255,0.04) 0%, transparent 50%);
  pointer-events: none;
  z-index: 0;
}

/* ‚îÄ‚îÄ SCREENS ‚îÄ‚îÄ */
.screen {
  position: fixed;
  inset: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 24px 20px;
  z-index: 10;
  transition: opacity 0.3s, transform 0.3s;
}
.screen.hidden { opacity: 0; pointer-events: none; transform: scale(0.97); }

/* ‚îÄ‚îÄ RULES SCREEN ‚îÄ‚îÄ */
#rulesScreen {
  background: var(--dark);
}

.rules-logo {
  font-family: 'Unbounded', sans-serif;
  font-size: 28px;
  margin-bottom: 8px;
}

.rules-title {
  font-family: 'Unbounded', sans-serif;
  font-size: 16px;
  font-weight: 700;
  color: var(--gold);
  text-align: center;
  margin-bottom: 20px;
}

.rules-box {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 20px;
  max-width: 420px;
  width: 100%;
  font-size: 13px;
  line-height: 1.7;
  color: #aaa;
  margin-bottom: 16px;
  max-height: 55vh;
  overflow-y: auto;
}

.rules-box h3 {
  color: var(--text);
  font-size: 13px;
  font-weight: 600;
  margin: 12px 0 4px;
}

.rules-box h3:first-child { margin-top: 0; }

.rules-box .highlight {
  color: var(--gold);
  font-weight: 600;
}

.rules-box ul {
  padding-left: 16px;
  margin: 4px 0;
}

.rules-box li { margin-bottom: 4px; }

.notice {
  background: rgba(255,215,0,0.06);
  border: 1px solid rgba(255,215,0,0.2);
  border-radius: 10px;
  padding: 10px 14px;
  font-size: 12px;
  color: #aaa;
  max-width: 420px;
  width: 100%;
  margin-bottom: 16px;
  text-align: center;
  line-height: 1.5;
}

.btn-agree {
  background: linear-gradient(135deg, var(--gold), var(--gold2));
  border: none;
  border-radius: 14px;
  padding: 16px 32px;
  font-family: 'Unbounded', sans-serif;
  font-size: 13px;
  font-weight: 700;
  color: #000;
  cursor: pointer;
  width: 100%;
  max-width: 420px;
  transition: transform 0.15s, box-shadow 0.15s;
  box-shadow: 0 4px 20px rgba(255,215,0,0.3);
}
.btn-agree:hover { transform: translateY(-1px); box-shadow: 0 6px 28px rgba(255,215,0,0.4); }
.btn-agree:active { transform: translateY(0); }

/* ‚îÄ‚îÄ WHEEL SCREEN ‚îÄ‚îÄ */
#wheelScreen {
  background: var(--dark);
  justify-content: flex-start;
  padding-top: 20px;
  overflow-y: auto;
}

.wh-title {
  font-family: 'Unbounded', sans-serif;
  font-size: clamp(15px, 4.5vw, 22px);
  font-weight: 900;
  text-align: center;
  background: linear-gradient(135deg, var(--gold), var(--gold2));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin-bottom: 4px;
}
.wh-sub {
  font-size: 12px;
  color: var(--muted);
  text-align: center;
  margin-bottom: 20px;
}

.wheel-wrapper {
  position: relative;
  width: min(300px, 82vw);
  height: min(300px, 82vw);
  margin: 0 auto 20px;
  flex-shrink: 0;
}

.wheel-pointer {
  position: absolute;
  top: -16px;
  left: 50%;
  transform: translateX(-50%);
  width: 0; height: 0;
  border-left: 11px solid transparent;
  border-right: 11px solid transparent;
  border-top: 22px solid var(--gold);
  z-index: 10;
  filter: drop-shadow(0 0 8px rgba(255,215,0,0.9));
}

canvas {
  border-radius: 50%;
  box-shadow: 0 0 0 3px var(--border), 0 0 40px rgba(255,215,0,0.12);
  display: block;
}

.center-hub {
  position: absolute;
  top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  width: 54px; height: 54px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--gold), var(--gold2));
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Unbounded', sans-serif;
  font-size: 8px;
  font-weight: 700;
  color: #000;
  letter-spacing: 0.3px;
  text-align: center;
  cursor: pointer;
  border: none;
  z-index: 5;
  box-shadow: 0 0 20px rgba(255,215,0,0.5);
  transition: transform 0.15s, box-shadow 0.15s;
  line-height: 1.2;
}
.center-hub:hover:not(:disabled) { transform: translate(-50%,-50%) scale(1.1); box-shadow: 0 0 32px rgba(255,215,0,0.7); }
.center-hub:disabled { opacity: 0.4; cursor: not-allowed; }

.result-card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 18px 22px;
  text-align: center;
  width: 100%;
  max-width: 320px;
  transition: border-color 0.4s, box-shadow 0.4s;
  flex-shrink: 0;
}
.result-card.won {
  border-color: var(--gold);
  box-shadow: 0 0 24px rgba(255,215,0,0.12);
}
.result-label {
  font-size: 10px;
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 1.5px;
  margin-bottom: 6px;
}
.result-text {
  font-family: 'Unbounded', sans-serif;
  font-size: clamp(13px, 3.5vw, 16px);
  font-weight: 700;
  color: var(--gold);
  line-height: 1.4;
}
.result-hint {
  font-size: 11px;
  color: var(--muted);
  margin-top: 6px;
}

/* ‚îÄ‚îÄ CONFETTI ‚îÄ‚îÄ */
.cf {
  position: fixed;
  width: 7px; height: 7px;
  top: -10px;
  border-radius: 2px;
  pointer-events: none;
  animation: cfFall linear forwards;
}
@keyframes cfFall {
  to { transform: translateY(110vh) rotate(720deg); opacity: 0; }
}
</style>
</head>
<body>

<!-- –ü–†–ê–í–ò–õ–ê -->
<div class="screen" id="rulesScreen">
  <div class="rules-logo">üé∞</div>
  <div class="rules-title">–ü—Ä–∞–≤–∏–ª–∞ —É—á–∞—Å—Ç–∏—è –≤ –∞–∫—Ü–∏–∏</div>

  <div class="rules-box">
    <h3>‚ÑπÔ∏è –ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ?</h3>
    –î–∞–Ω–Ω–∞—è –∞–∫—Ü–∏—è —è–≤–ª—è–µ—Ç—Å—è <span class="highlight">–º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏</span> –∏ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∞–∑–∞—Ä—Ç–Ω–æ–π –∏–≥—Ä–æ–π, –ª–æ—Ç–µ—Ä–µ–µ–π –∏–ª–∏ –∏–Ω–æ–π —Ñ–æ—Ä–º–æ–π gambling. –ü—Ä–∏–∑—ã –Ω–æ—Å—è—Ç –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä (—Å–∫–∏–¥–∫–∏ –∏ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –±–æ–Ω—É—Å–Ω—ã–µ —É—Å–ª—É–≥–∏). –ù–∏–∫–∞–∫–∏–µ –¥–µ–Ω–µ–∂–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ –Ω–µ –≤–Ω–æ—Å—è—Ç—Å—è –∏ –Ω–µ —Ä–∞–∑—ã–≥—Ä—ã–≤–∞—é—Ç—Å—è.

    <h3>üìå –£—Å–ª–æ–≤–∏—è —É—á–∞—Å—Ç–∏—è</h3>
    <ul>
      <li>–£—á–∞—Å—Ç–∏–µ ‚Äî –¥–æ–±—Ä–æ–≤–æ–ª—å–Ω–æ–µ –∏ <span class="highlight">–±–µ—Å–ø–ª–∞—Ç–Ω–æ–µ</span></li>
      <li>1 —É—á–∞—Å—Ç–∏–µ –Ω–∞ 1 Telegram-–∞–∫–∫–∞—É–Ω—Ç <span class="highlight">1 —Ä–∞–∑ –≤ –º–µ—Å—è—Ü</span></li>
      <li>–ù–µ–æ–±—Ö–æ–¥–∏–º–∞ –∞–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞</li>
      <li>–£—á–∞—Å—Ç–Ω–∏–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–∏–º</li>
    </ul>

    <h3>üèÜ –ü—Ä–∏–∑—ã</h3>
    –ü—Ä–∏–∑—ã ‚Äî —ç—Ç–æ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–µ –±–æ–Ω—É—Å—ã: —Å–∫–∏–¥–∫–∏ –∏ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —É—Å–ª—É–≥–∏. –î–µ–Ω–µ–∂–Ω—ã–π —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç –Ω–µ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω. –ü–µ—Ä–µ–¥–∞—á–∞ –ø—Ä–∏–∑–∞ —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º –Ω–µ –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è.

    <h3>‚è± –°—Ä–æ–∫ –≤—ã–¥–∞—á–∏ –ø—Ä–∏–∑–∞</h3>
    –°—Ä–æ–∫ –≤—ã–¥–∞—á–∏ –ø—Ä–∏–∑–∞ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç <span class="highlight">–¥–æ 14 –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã—Ö –¥–Ω–µ–π</span> —Å –º–æ–º–µ–Ω—Ç–∞ —Ä–æ–∑—ã–≥—Ä—ã—à–∞. –í —Å–ª—É—á–∞–µ —Ñ–æ—Ä—Å-–º–∞–∂–æ—Ä–Ω—ã—Ö –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤ (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å–±–æ–∏, –ø—Ä–∞–∑–¥–Ω–∏–∫–∏ –∏ –∏–Ω—ã–µ –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏) –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –≤–ø—Ä–∞–≤–µ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å—Ä–æ–∫ –≤—ã–¥–∞—á–∏, —É–≤–µ–¥–æ–º–∏–≤ —É—á–∞—Å—Ç–Ω–∏–∫–∞ –≤ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.

    <h3>üìã –ü—Ä–æ—á–µ–µ</h3>
    <ul>
      <li>–û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –≤–ø—Ä–∞–≤–µ –∏–∑–º–µ–Ω—è—Ç—å –ø—Ä–∏–∑–æ–≤–æ–π —Ñ–æ–Ω–¥ –±–µ–∑ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</li>
      <li>–†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–æ–∑—ã–≥—Ä—ã—à–∞ —è–≤–ª—è–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–º –∏ –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–º</li>
      <li>–ó–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è (–º—É–ª—å—Ç–∏–∞–∫–∫–∞—É–Ω—Ç—ã, –±–æ—Ç–æ–≤–æ–¥—Å—Ç–≤–æ) –≤–µ–¥—É—Ç –∫ –¥–∏—Å–∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏</li>
    </ul>
  </div>

  <div class="notice">
    –ù–∞–∂–∏–º–∞—è ¬´–ü—Ä–∏–Ω–∏–º–∞—é –∏ —É—á–∞—Å—Ç–≤—É—é¬ª, –≤—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç–µ, —á—Ç–æ –æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –∏ —Å–æ–≥–ª–∞—Å–Ω—ã —Å –Ω–∏–º–∏.
  </div>

  <button class="btn-agree" onclick="agreeAndPlay()">‚úÖ –ü—Ä–∏–Ω–∏–º–∞—é –∏ —É—á–∞—Å—Ç–≤—É—é</button>
</div>

<!-- –†–£–õ–ï–¢–ö–ê -->
<div class="screen hidden" id="wheelScreen">
  <div class="wh-title">üé∞ –†–æ–∑—ã–≥—Ä—ã—à</div>
  <p class="wh-sub">–ö—Ä—É—Ç–∏ ‚Äî –ø–æ–ª—É—á–∏ –±–æ–Ω—É—Å!</p>

  <div class="wheel-wrapper">
    <div class="wheel-pointer"></div>
    <canvas id="wheel" width="300" height="300"></canvas>
    <button class="center-hub" id="spinBtn" onclick="spin()">–ö–†–£–¢–ò!</button>
  </div>

  <div class="result-card" id="resultCard">
    <div class="result-label">–¢–≤–æ–π –ø—Ä–∏–∑</div>
    <div class="result-text" id="resultText">–ñ–º–∏ –∫–Ω–æ–ø–∫—É!</div>
    <div class="result-hint" id="resultHint"></div>
  </div>
</div>

<script>
const tg = window.Telegram?.WebApp;
if (tg) { tg.ready(); tg.expand(); }

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//  ‚öôÔ∏è –ü–†–ò–ó–´ ‚Äî —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π –∑–¥–µ—Å—å!
//  weight = –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å (–±–æ–ª—å—à–µ —á–∏—Å–ª–æ = —á–∞—â–µ –≤—ã–ø–∞–¥–∞–µ—Ç)
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const PRIZES = [
  { label: "1 –æ—Ç–∑—ã–≤\n–±–µ—Å–ø–ª–∞—Ç–Ω–æ",   color: "#141428", accent: "#FFD700", weight: 3 },
  { label: "–°–∫–∏–¥–∫–∞\n10%",           color: "#0e1a2e", accent: "#00C8FF", weight: 3 },
  { label: "2 –æ—Ç–∑—ã–≤–∞\n–±–µ—Å–ø–ª–∞—Ç–Ω–æ",   color: "#1a0e2e", accent: "#FF6BCB", weight: 1 }, // —Ä–µ–¥–∫–∏–π
  { label: "–°–∫–∏–¥–∫–∞\n15%",           color: "#0e2818", accent: "#A8FF3E", weight: 2 },
  { label: "–ë–æ–Ω—É—Å –Ω–∞\n—Å–ª. –∑–∞–∫–∞–∑",   color: "#2e1a0e", accent: "#FF9F43", weight: 3 },
  { label: "–ü–æ–ø—Ä–æ–±—É–π\n–µ—â—ë —Ä–∞–∑ üòÖ",  color: "#111111", accent: "#555566", weight: 4 }, // —á–∞—â–µ –≤—Å–µ–≥–æ
  { label: "–°–∫–∏–¥–∫–∞\n5%",            color: "#141428", accent: "#B48FFF", weight: 3 },
  { label: "3 –æ—Ç–∑—ã–≤–∞\n–±–µ—Å–ø–ª–∞—Ç–Ω–æ",   color: "#1a0e0e", accent: "#FF4444", weight: 1 }, // —Ä–µ–¥–∫–∏–π
];
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

// –ö–æ–ª–µ—Å–æ
const canvas = document.getElementById('wheel');
const ctx = canvas.getContext('2d');
const N = PRIZES.length;
const ARC = (2 * Math.PI) / N;
const CX = canvas.width / 2, CY = canvas.height / 2, R = CX - 6;

let angle = 0, spinning = false, done = false;

function weightedRandom() {
  const total = PRIZES.reduce((s, p) => s + p.weight, 0);
  let r = Math.random() * total;
  for (let i = 0; i < N; i++) { r -= PRIZES[i].weight; if (r <= 0) return i; }
  return N - 1;
}

function drawWheel(a) {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  for (let i = 0; i < N; i++) {
    const s = a + i * ARC, e = s + ARC, p = PRIZES[i];
    ctx.beginPath(); ctx.moveTo(CX, CY); ctx.arc(CX, CY, R, s, e); ctx.closePath();
    ctx.fillStyle = p.color; ctx.fill();
    ctx.strokeStyle = '#0a0a12'; ctx.lineWidth = 2; ctx.stroke();
    // —Ü–≤–µ—Ç–Ω–∞—è –¥—É–≥–∞
    ctx.beginPath(); ctx.arc(CX, CY, R - 7, s + 0.06, e - 0.06);
    ctx.strokeStyle = p.accent; ctx.lineWidth = 4; ctx.stroke();
    // —Ç–µ–∫—Å—Ç
    ctx.save();
    ctx.translate(CX, CY); ctx.rotate(s + ARC / 2);
    ctx.textAlign = 'right'; ctx.fillStyle = '#fff'; ctx.font = 'bold 10px Inter';
    p.label.split('\n').forEach((ln, li, arr) => {
      ctx.fillText(ln, R - 14, (li - (arr.length-1)/2) * 13 + 4);
    });
    ctx.restore();
  }
  // —Ü–µ–Ω—Ç—Ä
  ctx.beginPath(); ctx.arc(CX, CY, 30, 0, 2*Math.PI);
  ctx.fillStyle = '#08080f'; ctx.fill();
  ctx.strokeStyle = '#222230'; ctx.lineWidth = 2; ctx.stroke();
}

drawWheel(angle);

function spin() {
  if (spinning || done) return;
  spinning = true; done = true;
  document.getElementById('spinBtn').disabled = true;

  const idx = weightedRandom();
  const sectorMid = idx * ARC + ARC / 2;
  const target = -Math.PI/2 - sectorMid + (5 + Math.floor(Math.random()*4)) * 2*Math.PI;
  const dur = 4800, t0 = performance.now(), a0 = angle;

  const ease = t => 1 - Math.pow(1 - t, 4);
  (function frame(now) {
    const t = Math.min((now - t0) / dur, 1);
    angle = a0 + (target - a0) * ease(t);
    drawWheel(angle);
    if (t < 1) { requestAnimationFrame(frame); }
    else { showResult(PRIZES[idx]); }
  })(performance.now());
}

function showResult(p) {
  const card = document.getElementById('resultCard');
  const text = document.getElementById('resultText');
  const hint = document.getElementById('resultHint');
  const isLoss = p.accent === '#555566';

  card.classList.add('won');
  text.textContent = p.label.replace('\n', ' ');
  text.style.color = p.accent;

  if (isLoss) {
    hint.textContent = '–£–¥–∞—á–∞ –≤ —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑! üçÄ';
    card.style.borderColor = '#333';
  } else {
    hint.textContent = '–°–≤—è–∂–∏—Å—å —Å –Ω–∞–º–∏ ‚Äî –ø—Ä–∏–∑ –≤—ã–¥–∞–¥–∏–º –≤ —Ç–µ—á–µ–Ω–∏–µ 14 –¥–Ω–µ–π üéâ';
    confetti(p.accent);
  }

  // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –±–æ—Ç—É
  if (tg) {
    tg.sendData(JSON.stringify({ prize: p.label.replace('\n', ' '), ts: Date.now() }));
  }
}

function agreeAndPlay() {
  document.getElementById('rulesScreen').classList.add('hidden');
  document.getElementById('wheelScreen').classList.remove('hidden');
}

function confetti(accentColor) {
  const colors = ['#FFD700','#FF6BCB','#00C8FF','#A8FF3E',accentColor];
  for (let i = 0; i < 55; i++) {
    setTimeout(() => {
      const el = document.createElement('div');
      el.className = 'cf';
      el.style.cssText = `left:${Math.random()*100}vw;background:${colors[~~(Math.random()*colors.length)]};animation-duration:${1.5+Math.random()*2}s;animation-delay:${Math.random()*0.5}s;transform:rotate(${Math.random()*360}deg)`;
      document.body.appendChild(el);
      setTimeout(() => el.remove(), 3500);
    }, i * 28);
  }
}
</script>
</body>
</html>
