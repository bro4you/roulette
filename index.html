<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>–†—É–ª–µ—Ç–∫–∞</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
body { background:#0e0e14; color:white; text-align:center; font-family:sans-serif; }
button { padding:15px 30px; font-size:18px; cursor:pointer; }
</style>
</head>
<body>

<h2>üé∞ –ö—Ä—É—Ç–∏ —Ä—É–ª–µ—Ç–∫—É</h2>
<button onclick="spin()">–ö–†–£–¢–ò–¢–¨</button>
<p id="result"></p>

<script>
const tg = window.Telegram.WebApp;
tg.ready();

const PRIZES = [
  { label:"1 –æ—Ç–∑—ã–≤ –±–µ—Å–ø–ª–∞—Ç–Ω–æ", weight:5 },
  { label:"–°–∫–∏–¥–∫–∞ 30% –Ω–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π –Ø–Ω–¥–µ–∫—Å", weight:15 },
  { label:"15% –Ω–∞ —Å–∞–π—Ç 16 –±–ª–æ–∫–æ–≤", weight:15 },
  { label:"20% –Ω–∞ —Å–∞–π—Ç 9 –±–ª–æ–∫–æ–≤", weight:15 },
  { label:"15% –Ω–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ê–≤–∏—Ç–æ", weight:20 },
  { label:"15% –Ω–∞ –≥–æ—Ç–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç –ü—Ä–æ—Ñ–∏", weight:5 },
  { label:"–ü—É—Å—Ç–æ–π –∞–∫–∫–∞—É–Ω—Ç –Ø–Ω–¥–µ–∫—Å –≤ –ø–æ–¥–∞—Ä–æ–∫", weight:10 },
  { label:"+14 –¥–Ω–µ–π –≥–∞—Ä–∞–Ω—Ç–∏–∏ –Ω–∞ –Ø–Ω–¥–µ–∫—Å", weight:20 }
];

function weightedRandom() {
  const total = PRIZES.reduce((s,p)=>s+p.weight,0);
  let r = Math.random()*total;
  for (let i=0;i<PRIZES.length;i++){
    r -= PRIZES[i].weight;
    if(r<=0) return PRIZES[i];
  }
}

function spin(){
  const prize = weightedRandom();
  document.getElementById("result").innerText = "üéâ " + prize.label;

  tg.sendData(JSON.stringify({
    prize: prize.label,
    ts: Date.now()
  }));
}
</script>

</body>
</html>
